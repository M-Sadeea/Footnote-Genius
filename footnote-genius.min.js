"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var FootnoteGenius={footnotes:[],containers:{},backIcon:'<svg width="30" height="15" viewBox="0 0 26.676 26.676" ><path d="M26.105,21.891c-0.229,0-0.439-0.131-0.529-0.346l0,0c-0.066-0.156-1.716-3.857-7.885-4.59c-1.285-0.156-2.824-0.236-4.693-0.25v4.613c0,0.213-0.115,0.406-0.304,0.508c-0.188,0.098-0.413,0.084-0.588-0.033L0.254,13.815C0.094,13.708,0,13.528,0,13.339c0-0.191,0.094-0.365,0.254-0.477l11.857-7.979c0.175-0.121,0.398-0.129,0.588-0.029c0.19,0.102,0.303,0.295,0.303,0.502v4.293c2.578,0.336,13.674,2.33,13.674,11.674c0,0.271-0.191,0.508-0.459,0.562C26.18,21.891,26.141,21.891,26.105,21.891z"/></svg>',init:function(){var t=this;this.footnotes=document.querySelectorAll("sup.html-footnote"),[].forEach.call(document.querySelectorAll(".html-footnotes-container"),(function(e){var r,n=e.dataset.fnGroup||"default";if(t.containers[n])t.containers[n].el=e;else{var a=e.dataset.fnBrackets||"";r="false"==a.toLowerCase()?["",""]:""!=a&&a.length>1?a.split("").slice(0,2):["(",")"],t.containers[n]={el:e,indexStyle:e.dataset.fnIndexStyle||"default",brackets:r,lastIndex:1},void 0!==e.dataset.fnCreateLinks&&(t.containers[n].createLinks=!0),void 0!==e.dataset.fnCreateReturnLinks&&(t.containers[n].createReturnLinks=!0)}})),[].forEach.call(this.footnotes,(function(e,r){return t.addFootnote(e,r)}))},addFootnote:function(t){var e=t.dataset.fnGroup||"default";if(this.containers[e]){var r=this.getLastIndex(e),n=this.createItem(r,t.innerHTML);this.containers[e].el.appendChild(n),t.setAttribute("title",t.innerHTML),t.innerHTML=this.containers[e].createLinks?'<a id="footnotes-link-'.concat(r.group,"-").concat(r.id,'" href="#').concat(n.id,'">').concat(r.text,"</a>"):r.text}else console.log("Wrong data-fn-group!",t)},getLastIndex:function(t){var e,r=this.containers[t].indexStyle,n=this.containers[t].lastIndex++,a=this.containers[t].brackets[0],o=this.containers[t].brackets[1];switch(r){case"ab":e=this.getLetterList(n);break;case"AB":e=this.getLetterList(n).toUpperCase();break;case"i":e=this.getRomanList(n);break;case"I":e=this.getRomanList(n).toUpperCase();break;case"*":e=this.getStars(n);break;default:e=n}return{id:n,text:a+e+o,group:t}},createItem:function(t,e){var r=document.createElement("P");r.id="footnotes-item-"+t.group+"-"+t.id,r.classList.add("html-footnotes-item");var n=document.createElement("SPAN");n.classList.add("html-footnotes-item__index"),n.innerHTML=t.text+". ";var a=document.createElement("SPAN");if(a.classList.add("html-footnotes-item__content"),a.innerHTML=e,r.appendChild(n),r.appendChild(a),1==this.containers[t.group].createReturnLinks){var o=document.createElement("a");o.classList.add("html-footnotes-item__link"),o.setAttribute("href","#footnotes-link-"+t.group+"-"+t.id),o.innerHTML=this.backIcon,r.appendChild(o)}return r},getStars:function(t){for(var e="",r=0;r<t;r++)e+="*";return e},getLetterList:function(t){for(var e="abcdefghijklmnopqrstuvwxyz".split(""),r=function t(e){if(e<=26)return[e-1];e--;var r=Math.floor(e/26);return[].concat(_toConsumableArray(t(r)),[e%26])}(t),n="",a=0;a<r.length;a++)n+=e[r[a]];return n},getRomanList:function(t){for(var e=[{letter:"M",value:1e3},{letter:"CM",value:900},{letter:"D",value:500},{letter:"CD",value:400},{letter:"C",value:100},{letter:"XC",value:90},{letter:"L",value:50},{letter:"XL",value:40},{letter:"X",value:10},{letter:"IX",value:9},{letter:"V",value:5},{letter:"IV",value:4},{letter:"I",value:1}],r="",n=0;n<e.length;n++)for(var a=e[n].letter,o=e[n].value;t>=o;)r+=a,t-=o;return r}};
